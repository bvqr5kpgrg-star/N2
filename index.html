<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>HELL ISLE</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body{margin:0;background:#000;color:#eee;font-family:monospace}
#game{max-width:420px;margin:auto;padding:10px}
h1{text-align:center;letter-spacing:4px}

/* UI */
.panel{background:#0b0b0b;border:1px solid #222;padding:8px;margin-bottom:8px}
button{width:100%;padding:10px;margin-top:5px;background:#111;color:#fff;border:1px solid #333}
button:hover{background:#8b0000}

/* MAP */
#map{display:grid;grid-template-columns:repeat(5,1fr);gap:4px}
.tile{height:48px;background:#111;border:1px solid #222}
.player{background:#8b0000}
.enemyTile{background:#400}

/* CARDS */
#hand{display:flex;gap:6px}
.card{
flex:1;background:#111;border:1px solid #444;
padding:6px;text-align:center;cursor:pointer
}
.card.common{border-color:#777}
.card.rare{border-color:#3af}
.card.legendary{border-color:#f90}

/* EFFECT */
.shake{animation:shake .2s}
@keyframes shake{
0%{transform:translate(0)}
25%{transform:translate(-4px)}
50%{transform:translate(4px)}
100%{transform:translate(0)}
}
</style>
</head>

<body>
<div id="game">
<h1>HELL ISLE</h1>

<div id="stats" class="panel"></div>

<div class="panel"><div id="map"></div></div>

<div id="story" class="panel"></div>

<div id="hand" class="panel"></div>

<div class="panel">
<button onclick="openDeck()">DECK</button>
<button onclick="openSkills()">SKILLS</button>
</div>

<div class="panel" id="controls">
<button onclick="move(0,-1)">â¬†</button>
<button onclick="move(-1,0)">â¬…</button>
<button onclick="move(1,0)">âž¡</button>
<button onclick="move(0,1)">â¬‡</button>
</div>
</div>

<script>
/* ================= PLAYER ================= */
let player={
hp:100,sanity:100,x:2,y:2,
deck:[
{name:"Slash",type:"atk",val:10,rarity:"common"},
{name:"Block",type:"def",val:6,rarity:"common"},
{name:"Focus",type:"san",val:5,rarity:"common"}
],
hand:[],
skills:{power:false,focus:false}
};

let enemy=null;
let state="explore";

/* ================= MAP ================= */
let map=[];
for(let y=0;y<5;y++){
map[y]=[];
for(let x=0;x<5;x++){
map[y][x]=Math.random()<0.2?"enemy":"empty";
}
}

/* ================= RENDER ================= */
function render(){
document.getElementById("stats").innerText=
`â¤ï¸ ${player.hp} | ðŸ§  ${player.sanity}`;
renderMap(); renderHand();
}

function renderMap(){
const m=document.getElementById("map"); m.innerHTML="";
for(let y=0;y<5;y++)for(let x=0;x<5;x++){
let d=document.createElement("div");
d.className="tile";
if(map[y][x]==="enemy")d.classList.add("enemyTile");
if(x===player.x&&y===player.y)d.classList.add("player");
m.appendChild(d);
}
}

function renderHand(){
const h=document.getElementById("hand"); h.innerHTML="";
if(state!=="combat")return;
player.hand.forEach((c,i)=>{
let d=document.createElement("div");
d.className=`card ${c.rarity}`;
d.innerHTML=`<b>${c.name}</b><br>${c.val}`;
d.onclick=()=>playCard(i);
h.appendChild(d);
});
}

/* ================= MOVE ================= */
function move(dx,dy){
if(state!=="explore")return;
let nx=player.x+dx, ny=player.y+dy;
if(nx<0||ny<0||nx>4||ny>4)return;
player.x=nx; player.y=ny;
if(map[ny][nx]==="enemy")startCombat();
render();
}

/* ================= COMBAT ================= */
function startCombat(){
state="combat";
enemy={hp:40,deck:[
{name:"Claw",val:8},
{name:"Bite",val:12}
]};
drawHand();
story("An enemy appears!");
}

function drawHand(){
player.hand=[];
for(let i=0;i<3;i++){
let c=player.deck[Math.floor(Math.random()*player.deck.length)];
player.hand.push({...c});
}
}

function playCard(i){
let c=player.hand[i];
animate();
if(c.type==="atk")enemy.hp-=c.val;
if(c.type==="def")player.hp+=c.val;
if(c.type==="san")player.sanity+=c.val;

if(enemy.hp<=0){
state="explore";
map[player.y][player.x]="empty";
story("Enemy defeated!");
}else{
enemyTurn();
drawHand();
}
render();
}

function enemyTurn(){
let c=enemy.deck[Math.floor(Math.random()*enemy.deck.length)];
player.hp-=c.val;
story(`Enemy uses ${c.name}`);
if(player.hp<=0)story("You died.");
}

/* ================= DECK ================= */
function openDeck(){
let text="DECK:\n";
player.deck.forEach(c=>text+=`${c.name} (${c.rarity})\n`);
story(text);
}

/* ================= SKILLS ================= */
function openSkills(){
story("Skills:\nâ€¢ Power Strike\nâ€¢ Mental Focus");
}

/* ================= UI ================= */
function story(t){document.getElementById("story").innerText=t}
function animate(){
document.getElementById("game").classList.add("shake");
setTimeout(()=>game.classList.remove("shake"),200);
}

/* ================= START ================= */
story("You awaken on Hell Isle.");
render();
</script>
</body>
</html>
